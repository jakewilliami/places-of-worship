<h1 align="center">Places of Worship DB</h1>

![Project Status](https://img.shields.io/badge/status-in--development-yellow)

> **Note**: This project is under active development and should not be considered ready for use.

A collector of geographical and temporal data of religious places of worship from various sources, published to a database.  Based on [a similar project developed by University of Auckland's Centre for e-Research](https://github.com/UoA-eResearch/religion/tree/1a4c2495ae9e059a7e2e1f4fd34cccb7b3be8995).

---

## Quick Start

Ensure you have [UV](https://github.com/astral-sh/uv/) installed, as it affords a much simpler way of Python development.  You can install [Python](https://www.python.org/) via UV:

```shell
$ uv python install 3.13
```

This project necessitates a **minimum Python version of 3.11**.  It requires Python 3.9 in the interest of [PEP 585](https://peps.python.org/pep-0585/), 3.10 in the interest of [PEP 604](https://peps.python.org/pep-0604/), and 3.11 in the interest of [performance](https://docs.python.org/3/whatsnew/3.11.html).  Ideally, run this on a newer version (e.g., 3.13) which will have even greater performance.

Now you can run the project via the command line:

```shell
$ uv run powdb  # NOTE: CLI not yet finalised
```

## Development

Install project dependencies using `uv sync`.

We use [`just`](https://github.com/casey/just) as a convenient build tool to run different commands associated with this project.  For testing the librayr, we can run

```shell
$ just test
```

Likewise to run formatting on files that are staged for commit:

```shell
$ just fmt
```

This will use [pre-commit](https://pre-commit.com/).

These things are also checked in [CI/CD pipelines](./.github/workflows/).

## Project Structure and Design

Python is used for this project in the interest of maintainability and access to its vast and mature library ecosystem.

We use UV as a PIP replacement for Python package management and as a build system.  UV is akin to [Poetry](https://github.com/python-poetry/poetry) but easier to use (fewer issues) and much faster.  All internal project code is located in [`src/`](./src/).  A collection of internal utility functions can be found in [`utils/`](./src/powdb/common/utils/).  Many of these may not be used throughout the library yet, but I find them useful to have and implement.

Project metadata and dependencies are stored in [`pyproject.toml`](./pyproject.toml).  A [`uv.lock`](./uv.lock) file will be generated by UV to store information about the specific packages being used.  Do not modify this file manually.  Ensure it is up to date by running `uv lock`.

An early version of this project used [Go](https://go.dev/) rather than Python.  The last version that used Go is [v0.0.4](https://github.com/jakewilliami/places-of-worship/releases/tag/v0.0.4)/[`870c5a04`](https://github.com/jakewilliami/places-of-worship/commit/870c5a040d66dfb53eb73157ddaea0257cccfacd).  The primary reason to use Go was reflection:
  - https://go.dev/ref/spec#Struct_types
  - https://go.dev/ref/spec#Tag
  - https://go.dev/wiki/Well-known-struct-tags
  - https://stackoverflow.com/q/10858787

Constructing databases of information from disparate sources is a well known problem that companies, including Google, have been working on for over 25 years.  It stands, then, that Go&mdash;a language written by Google&mdash;has convenient handling for struct-based data ingestion, allowing for declarative mapping and parsing from potentially messy sources into structured data.

## Project Name

The library is currently in pre-release (as long as we are in version 0.0.x), and so the library/project name is currently provisional.  I would like to use simply `pow` (standing for Places of Worship), but this will conflict with [Python's `pow` function](https://docs.python.org/3/library/functions.html#pow) importing the library.  Therefore, something like `powdb` or `worshipdb` could work.  Other options could be something like `sancta` (like the Latin plural form for santum).
